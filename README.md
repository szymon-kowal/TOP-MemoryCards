# [Live preview](https://szymon-kowal.github.io/TOP-MemoryCards/)

# Memory cards game !

I've made memory card game. If you want to play the game just go on the page, the goal of the game is to click as much different cards as you can ! Current score and highscore are presented in top-right corner of page.

# Used:

React, TypeScript, HTML, CSS, Webpack

# How to run it on your machine ?

Fork the repo, then run in your cli:

```markdown
$ npm install
```
it will install all dependencies.


Then if you want to preview it on your browser run :

```markdown
$ npm run dev
```
If you want to build your app:

```markdown
$ npm run build
```

# Important !

If you want to run this app on your machine, then you need to have Giphy API key generated by yourself !

# The main goal of building this app ?

It`s part of The Odin Project course !
With this project i wanted to learn how useEffect hook works.

```tsx
...
const [highscore, setHighscore] = useState<number>(0);
...
useEffect(() => {
  if (score > highscore) {
    setHighscore(score);
  }
}, [score, highscore]);
```
In this code snippet, the useEffect runs on every change of [score, highscore] checks if given score is greater than highscore, if it is, then it changes the state of highscore.

```tsx
  useEffect(() => {
    const fetchGifs = async (): Promise<void> => {
      try {
        const apiUrl = `https://api.giphy.com/v1/gifs/search?api_key=${apiKey}&q=cat&limit=8&offset=0&rating=g&lang=en&bundle=messaging_non_clips`;
        const response = await axios.get(apiUrl);
        const gifData = response.data.data;
        const newCards: CardObj[] = gifData.map((gif: any, idx: number) => ({
          id: idx.toString(),
          background: gif.images.original.url,
          wasFlipped: false,
        }));
        setCards(newCards);
      } catch (error) {
        console.error("Error fetching gifs:", error);
      }
    };

    void (async () => {
      await fetchGifs();
    })();
  }, []);
```

In this snippet I wanted to fetch data from Giphy and load it to the cards state, and I could made it by giving empty array of dependencies, so the code runs only on monut of the component.

# What should I avoid doing in the future?

1) I`ve read somewhere, that fetching data with useEffect() is suboptimal, so I need to dive deeper into this concept.
2) I`ve spend like 2 hours with funny bug in my code, where whenever I clicked on specific gif, it would shuffle all the cards, then switch wasFlipped property on random card. It was happening because after running the code React updates the state and in previous version of code I would check the position of given card object in cards state, so I changed the code to specifically check the id property of every card :
   
```tsx
const clickedCard = copy.find((card) => card.id === idx);
```







